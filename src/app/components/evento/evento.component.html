<div class="spinner" *ngIf="spinner"><img src="../assets/spinner.gif" alt=""></div>
<div *ngIf="!spinner">
    <div *ngIf="id && evento" class="row margin">

        <div class="img"><img width="250" src="../../../assets/halloween.jpg" alt=""></div>

        <div class="col-md-9 pt-3 margin-c">
            <div class="card mx-auto">
                <div class="card-body">
                    <h5 class="card-title">{{evento.nombre}}</h5>
                    <p class="card-text">{{evento.descripcion}}</p>
                    <div class="row">
                        <div class="col">
                            <p><strong>Ubicacion: </strong>Cielo Alto, Medellín</p>
                        </div>
                    </div>
                    <h6 class="card-subtitle mb-2 text-muted">Compra tu palco:</h6>
                    <div class="centrar">
                    <div class="row tabla">
                        <div class="tarima">Escenario</div>
                        <app-grid-asientos [matriz]="matriz" [labels]="evento.labels"></app-grid-asientos>
                    </div>
                </div>
                    <br>

                </div>

            </div>

        </div>

    </div>

    <ng-template #template>
        <ng-container *ngFor="let palco of listaAsientos">
            <div class="palco">

                <div class="row">
                    <div class="col title">Palco {{palco.label}}</div>
                </div>
                <div class="row">
                    <div class="col">
                        <label for="personas">¿Quieres añadir personas adicionales? Si es así, especifica cuántas (máximo 4 personas adicionales).</label>
                        <mat-form-field>
                            <mat-label>Número de personas adicionales</mat-label>
                            <input [(ngModel)]="detalle[palco.label]['personas']" matInput type="number" min="0"
                                max="4" id="personas">
                        </mat-form-field>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label for="ninos">Por favor, indica cuántos niños asistirán.</label>
                        <mat-form-field>
                            <mat-label>Número de niños</mat-label>
                            <input [(ngModel)]="detalle[palco.label]['ninos']" matInput type="number" min="0" max="11" id="ninos">
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <label for="adultos">Por favor, indica cuántos adultos asistirán.</label>
                        <mat-form-field>
                            <mat-label>Número de adultos</mat-label>
                            <input id="adultos" [(ngModel)]="detalle[palco.label]['adultos']" matInput type="number" min="1"
                                max="12">
                        </mat-form-field>
                    </div>
                </div>
            
            </div>
            
        </ng-container>
        <div class="row">
            <div class="col centrar"><button class="btn btn-success" (click)="pagar(wompi)">Pagar</button></div>
            <div class="col centrar"><button class="btn btn-danger" (click)="cancelar()">Cancelar</button></div>
        </div>
    </ng-template>

    <ng-template #wompi>
        <div *ngIf="permitirCerrar" (click)="cerrarPopup({})" class="close"><mat-icon>close</mat-icon></div>
        <iframe class="wompi" [src]="link"></iframe>
    </ng-template>
</div>